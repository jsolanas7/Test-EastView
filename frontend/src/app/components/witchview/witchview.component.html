<div class="principalContainer">
    <div class="tableContainer">
        <h2>DÃ­a de la tarea</h2>
        <select class="form-control input-lg" style="font-size: 20px; width: 15%;margin: 20px 0 20px;"
            [(ngModel)]="date" (change)="onChange($event)">
            <option *ngFor="let day of days" [selected]="day == 'Lunes'">{{day}}
            </option>
        </select>
        <h1>Lista de ciudadanos con sus tareas</h1>
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>DNI</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <ng-container *ngFor="let citizen of citizensDtoToShow">
                    <tr>
                        <td [attr.rowspan]="citizen.tasks.length == 0 ? 1 : citizen.tasks.length + 1">{{citizen.id}}</td>
                        <td>{{citizen.dni}}</td>
                        <td>{{citizen.firstName}}</td>
                        <td>{{citizen.surName}}</td>

                        <td *ngIf="!citizen.show"><a href="javascript:void(0)" (click)="onShow(citizen.id, true)"><i
                                    class="glyphicon glyphicon-chevron-down text-primary"></i></a></td>
                        <td *ngIf="citizen.show"><a href="javascript:void(0)" (click)="onShow(citizen.id, false)"><i
                                    class="glyphicon glyphicon-chevron-up text-primary"></i></a></td>
                    </tr>
                    <tr>
                        <ng-container *ngIf="citizen.show">
                            <td colspan="3">
                                <h3>Lista de tareas</h3>
                                <table class="table listTask">
                                    <thead>
                                        <tr>
                                            <th>Nombre</th>
                                            <th>Dia</th>
                                            <th>Descripcion</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let task of citizen.tasks">
                                            <td>{{task.name}}</td>
                                            <td>{{task.date}}</td>
                                            <td>{{task.description}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </ng-container>
                    </tr>

                </ng-container>

            </tbody>
        </table>
    </div>
</div>

<!-- <table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>DNI</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <ng-container *ngFor="let citizen of citizensDtoToShow">
            <tr>
                <td [attr.rowspan]="citizen.tasks?.length == 0 ? 1 : citizen.tasks.length">{{citizen.id}}</td>
                <td>{{citizen.dni}}</td>
                <td>{{citizen.firstName}}</td>
                <td>{{citizen.surName}}</td>
        
                <td *ngIf="!citizen.show"><a href="javascript:void(0)" (click)="onShow(citizen.id, true)"><i
                            class="glyphicon glyphicon-chevron-down text-primary"></i></a></td>
                <td *ngIf="citizen.show"><a href="javascript:void(0)" (click)="onShow(citizen.id, false)"><i
                            class="glyphicon glyphicon-chevron-up text-primary"></i></a></td>
            </tr>
                <tr>
                    <ng-container *ngIf="citizen.show">
                    
                    <td colspan="3">
                        <h3>Lista de tareas</h3>
                        <table class="table listTask">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Dia</th>
                                    <th>Descripcion</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>asd</td>
                                    <td>asd123</td>
                                    <td>1412424</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </ng-container>
                    
                </tr>
        
    </ng-container> 
        
    </tbody>
</table> -->